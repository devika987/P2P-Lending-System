{"ast":null,"code":"import _regeneratorRuntime from \"/home/devika/FinalYear/blockchain/loanBCT/Blockchain-Simple-Loan-IOU-Application/client/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/home/devika/FinalYear/blockchain/loanBCT/Blockchain-Simple-Loan-IOU-Application/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/home/devika/FinalYear/blockchain/loanBCT/Blockchain-Simple-Loan-IOU-Application/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/devika/FinalYear/blockchain/loanBCT/Blockchain-Simple-Loan-IOU-Application/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/devika/FinalYear/blockchain/loanBCT/Blockchain-Simple-Loan-IOU-Application/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/devika/FinalYear/blockchain/loanBCT/Blockchain-Simple-Loan-IOU-Application/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/devika/FinalYear/blockchain/loanBCT/Blockchain-Simple-Loan-IOU-Application/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/devika/FinalYear/blockchain/loanBCT/Blockchain-Simple-Loan-IOU-Application/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/devika/FinalYear/blockchain/loanBCT/Blockchain-Simple-Loan-IOU-Application/client/src/components/loandetails.jsx\";\nimport React, { Component } from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport SimpleLoanContract from \"../contracts/SimpleLoan.json\";\n\nvar LoanDetails =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoanDetails, _Component);\n\n  function LoanDetails() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LoanDetails);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LoanDetails)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      formTitle: \"Contract - \",\n      loan: {\n        owner: null,\n        borrower: null,\n        loanAmount: null,\n        status: null,\n        lenderCount: 0,\n        dueDate: null\n      },\n      lenders: []\n    };\n\n    _this.handleFundIt =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var web3, loanAmount, IRate, lenderAddr, loan, tx, l, contract, count, ls, i, _l;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                web3 = _this.state.web3;\n                loanAmount = web3.utils.toWei(e.target.fundAmount.value, 'ether');\n                IRate = web3.utils.toWei(e.target.interestRate.value, 'ether');\n                _context.next = 6;\n                return _this.state.web3.eth.coinbase;\n\n              case 6:\n                lenderAddr = _context.sent;\n                _context.prev = 7;\n                loan = new _this.props.web3.eth.Contract(SimpleLoanContract.abi, _this.props.match.params.id);\n                _context.next = 11;\n                return loan.methods.depositFund(IRate).call({\n                  from: lenderAddr,\n                  value: loanAmount\n                });\n\n              case 11:\n                _context.next = 13;\n                return loan.methods.depositFund(IRate).send({\n                  from: lenderAddr,\n                  value: loanAmount\n                });\n\n              case 13:\n                tx = _context.sent;\n                console.log(tx);\n                l = _objectSpread({}, _this.state.loan);\n                l.lenderCount += 1;\n                _context.t0 = _this;\n                _context.next = 20;\n                return loan.methods.status().call();\n\n              case 20:\n                _context.t1 = _context.sent;\n                l.status = _context.t0.getStatusDescription.call(_context.t0, _context.t1);\n                contract = new _this.props.web3.eth.Contract(SimpleLoanContract.abi, _this.props.match.params.id);\n                _context.next = 25;\n                return contract.methods.lenderCount().call();\n\n              case 25:\n                count = _context.sent;\n                ls = [];\n                i = 0;\n\n              case 28:\n                if (!(i < count)) {\n                  _context.next = 41;\n                  break;\n                }\n\n                _context.next = 31;\n                return contract.methods.lenderAt(i).call();\n\n              case 31:\n                _l = _context.sent;\n                _l.p_lendingAmount = _this.props.web3.utils.fromWei(_l.p_lendingAmount, 'ether');\n                _l.p_repaidAmount = _this.props.web3.utils.fromWei(_l.p_repaidAmount, 'ether');\n                _l.p_refundedAmount = _this.props.web3.utils.fromWei(_l.p_refundedAmount, 'ether');\n                _l.p_interestRate = _this.props.web3.utils.fromWei(_l.p_interestRate, 'ether');\n                ls.push(_l);\n                console.log(_l);\n\n              case 38:\n                i++;\n                _context.next = 28;\n                break;\n\n              case 41:\n                _this.setState({\n                  loan: l\n                });\n\n                _context.next = 48;\n                break;\n\n              case 44:\n                _context.prev = 44;\n                _context.t2 = _context[\"catch\"](7);\n                console.log(_context.t2);\n\n                _this.setState({\n                  hasError: true,\n                  errorMessage: _context.t2.message\n                });\n\n              case 48:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[7, 44]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.handleRefund =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(e) {\n        var web3, ownerAddr, loan, tx, l;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                e.preventDefault();\n                web3 = _this.state.web3;\n                _context2.next = 4;\n                return _this.state.web3.eth.coinbase;\n\n              case 4:\n                ownerAddr = _context2.sent;\n                _context2.prev = 5;\n                loan = new _this.props.web3.eth.Contract(SimpleLoanContract.abi, _this.props.match.params.id);\n                _context2.next = 9;\n                return loan.methods.refund().call({\n                  from: ownerAddr\n                });\n\n              case 9:\n                _context2.next = 11;\n                return loan.methods.refund().send({\n                  from: ownerAddr\n                });\n\n              case 11:\n                tx = _context2.sent;\n                console.log(tx);\n                l = _objectSpread({}, _this.state.loan);\n                _context2.t0 = parseInt;\n                _context2.next = 17;\n                return loan.methods.lenderCount().call({\n                  from: ownerAddr\n                });\n\n              case 17:\n                _context2.t1 = _context2.sent;\n                l.lenderCount = (0, _context2.t0)(_context2.t1);\n                _context2.t2 = _this;\n                _context2.next = 22;\n                return loan.methods.status().call();\n\n              case 22:\n                _context2.t3 = _context2.sent;\n                l.status = _context2.t2.getStatusDescription.call(_context2.t2, _context2.t3);\n\n                _this.setState({\n                  loan: l\n                });\n\n                _context2.next = 31;\n                break;\n\n              case 27:\n                _context2.prev = 27;\n                _context2.t4 = _context2[\"catch\"](5);\n                console.log(_context2.t4);\n\n                _this.setState({\n                  hasError: true,\n                  errorMessage: _context2.t4.message\n                });\n\n              case 31:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[5, 27]]);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.handleRepay =\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(e) {\n        var web3, borrowerAddr, loan, ownedAmount, tx, l, contract, count, ls, i, _l2;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                e.preventDefault();\n                web3 = _this.state.web3;\n                _context3.next = 4;\n                return _this.state.web3.eth.coinbase;\n\n              case 4:\n                borrowerAddr = _context3.sent;\n                _context3.prev = 5;\n                loan = new _this.props.web3.eth.Contract(SimpleLoanContract.abi, _this.props.match.params.id);\n                _context3.next = 9;\n                return loan.methods.ownedAmount().call();\n\n              case 9:\n                ownedAmount = _context3.sent;\n                _context3.next = 12;\n                return loan.methods.repay().call({\n                  from: borrowerAddr,\n                  value: ownedAmount\n                });\n\n              case 12:\n                _context3.next = 14;\n                return loan.methods.repay().send({\n                  from: borrowerAddr,\n                  value: ownedAmount\n                });\n\n              case 14:\n                tx = _context3.sent;\n                console.log(tx);\n                l = _objectSpread({}, _this.state.loan);\n                _context3.t0 = _this;\n                _context3.next = 20;\n                return loan.methods.status().call();\n\n              case 20:\n                _context3.t1 = _context3.sent;\n                l.status = _context3.t0.getStatusDescription.call(_context3.t0, _context3.t1);\n                contract = new _this.props.web3.eth.Contract(SimpleLoanContract.abi, _this.props.match.params.id);\n                _context3.next = 25;\n                return contract.methods.lenderCount().call();\n\n              case 25:\n                count = _context3.sent;\n                ls = [];\n                i = 0;\n\n              case 28:\n                if (!(i < count)) {\n                  _context3.next = 41;\n                  break;\n                }\n\n                _context3.next = 31;\n                return contract.methods.lenderAt(i).call();\n\n              case 31:\n                _l2 = _context3.sent;\n                _l2.p_lendingAmount = _this.props.web3.utils.fromWei(_l2.p_lendingAmount, 'ether');\n                _l2.p_repaidAmount = _this.props.web3.utils.fromWei(_l2.p_repaidAmount, 'ether');\n                _l2.p_refundedAmount = _this.props.web3.utils.fromWei(_l2.p_refundedAmount, 'ether');\n                _l2.p_interestRate = _this.props.web3.utils.fromWei(_l2.p_interestRate, 'ether');\n                ls.push(_l2);\n                console.log(_l2);\n\n              case 38:\n                i++;\n                _context3.next = 28;\n                break;\n\n              case 41:\n                _this.setState({\n                  loan: l,\n                  hasError: false\n                });\n\n                _context3.next = 48;\n                break;\n\n              case 44:\n                _context3.prev = 44;\n                _context3.t2 = _context3[\"catch\"](5);\n                console.log(_context3.t2);\n\n                _this.setState({\n                  hasError: true,\n                  errorMessage: _context3.t2.message\n                });\n\n              case 48:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[5, 44]]);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.handleBorrowerWithdraw =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee4() {\n      var web3, borrowerAddr, loan, tx, l, contract, count, ls, i, _l3;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              web3 = _this.state.web3;\n              _context4.next = 3;\n              return _this.state.web3.eth.coinbase;\n\n            case 3:\n              borrowerAddr = _context4.sent;\n              _context4.prev = 4;\n              loan = new web3.eth.Contract(SimpleLoanContract.abi, _this.props.match.params.id);\n              _context4.next = 8;\n              return loan.methods.withdrawToBorrower().call({\n                from: borrowerAddr\n              });\n\n            case 8:\n              _context4.next = 10;\n              return loan.methods.withdrawToBorrower().send({\n                from: borrowerAddr\n              });\n\n            case 10:\n              tx = _context4.sent;\n              console.log(tx); // this.state.loan.dueDate = await loan.methods.dueDate().call();\n\n              console.log(\"account default after\" + Date(_this.state.loan.dueDate));\n              l = _objectSpread({}, _this.state.loan);\n              _context4.t0 = _this;\n              _context4.next = 17;\n              return loan.methods.status().call();\n\n            case 17:\n              _context4.t1 = _context4.sent;\n              l.status = _context4.t0.getStatusDescription.call(_context4.t0, _context4.t1);\n              contract = new _this.props.web3.eth.Contract(SimpleLoanContract.abi, _this.props.match.params.id);\n              _context4.next = 22;\n              return contract.methods.lenderCount().call();\n\n            case 22:\n              count = _context4.sent;\n              ls = [];\n              i = 0;\n\n            case 25:\n              if (!(i < count)) {\n                _context4.next = 38;\n                break;\n              }\n\n              _context4.next = 28;\n              return contract.methods.lenderAt(i).call();\n\n            case 28:\n              _l3 = _context4.sent;\n              _l3.p_lendingAmount = _this.props.web3.utils.fromWei(_l3.p_lendingAmount, 'ether');\n              _l3.p_repaidAmount = _this.props.web3.utils.fromWei(_l3.p_repaidAmount, 'ether');\n              _l3.p_refundedAmount = _this.props.web3.utils.fromWei(_l3.p_refundedAmount, 'ether');\n              _l3.p_interestRate = _this.props.web3.utils.fromWei(_l3.p_interestRate, 'ether');\n              ls.push(_l3);\n              console.log(_l3);\n\n            case 35:\n              i++;\n              _context4.next = 25;\n              break;\n\n            case 38:\n              _this.setState({\n                loan: l,\n                hasError: false\n              });\n\n              _context4.next = 45;\n              break;\n\n            case 41:\n              _context4.prev = 41;\n              _context4.t2 = _context4[\"catch\"](4);\n              console.log(_context4.t2);\n\n              _this.setState({\n                hasError: true,\n                errorMessage: _context4.t2.message\n              });\n\n            case 45:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this, [[4, 41]]);\n    }));\n    _this.handleWithdrawToLenders =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee5() {\n      var web3, borrowerAddr, loan, tx, l, contract, count, ls, i, _l4;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              web3 = _this.state.web3;\n              _context5.next = 3;\n              return _this.state.web3.eth.coinbase;\n\n            case 3:\n              borrowerAddr = _context5.sent;\n              _context5.prev = 4;\n              loan = new web3.eth.Contract(SimpleLoanContract.abi, _this.props.match.params.id);\n              _context5.next = 8;\n              return loan.methods.withdrawToLenders().call({\n                from: borrowerAddr\n              });\n\n            case 8:\n              _context5.next = 10;\n              return loan.methods.withdrawToLenders().send({\n                from: borrowerAddr\n              });\n\n            case 10:\n              tx = _context5.sent;\n              console.log(tx);\n              l = _objectSpread({}, _this.state.loan);\n              _context5.t0 = _this;\n              _context5.next = 16;\n              return loan.methods.status().call();\n\n            case 16:\n              _context5.t1 = _context5.sent;\n              l.status = _context5.t0.getStatusDescription.call(_context5.t0, _context5.t1);\n              contract = new _this.props.web3.eth.Contract(SimpleLoanContract.abi, _this.props.match.params.id);\n              _context5.next = 21;\n              return contract.methods.lenderCount().call();\n\n            case 21:\n              count = _context5.sent;\n              ls = [];\n              i = 0;\n\n            case 24:\n              if (!(i < count)) {\n                _context5.next = 37;\n                break;\n              }\n\n              _context5.next = 27;\n              return contract.methods.lenderAt(i).call();\n\n            case 27:\n              _l4 = _context5.sent;\n              _l4.p_lendingAmount = _this.props.web3.utils.fromWei(_l4.p_lendingAmount, 'ether');\n              _l4.p_repaidAmount = _this.props.web3.utils.fromWei(_l4.p_repaidAmount, 'ether');\n              _l4.p_refundedAmount = _this.props.web3.utils.fromWei(_l4.p_refundedAmount, 'ether');\n              _l4.p_interestRate = _this.props.web3.utils.fromWei(_l4.p_interestRate, 'ether');\n              ls.push(_l4);\n              console.log(_l4);\n\n            case 34:\n              i++;\n              _context5.next = 24;\n              break;\n\n            case 37:\n              _this.setState({\n                loan: l,\n                hasError: false\n              });\n\n              _context5.next = 44;\n              break;\n\n            case 40:\n              _context5.prev = 40;\n              _context5.t2 = _context5[\"catch\"](4);\n              console.log(_context5.t2);\n\n              _this.setState({\n                hasError: true,\n                errorMessage: _context5.t2.message\n              });\n\n            case 44:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this, [[4, 40]]);\n    }));\n    return _this;\n  }\n\n  _createClass(LoanDetails, [{\n    key: \"getStatusDescription\",\n    value: function getStatusDescription(idx) {\n      switch (idx) {\n        case \"0\":\n          return 'Requesting';\n\n        case \"1\":\n          return 'Funding';\n\n        case \"2\":\n          return 'Funded';\n\n        case \"3\":\n          return 'FundWithdrawn';\n\n        case \"4\":\n          return 'Repaid';\n\n        case \"5\":\n          return 'Defaulted';\n\n        case \"6\":\n          return 'Refunded';\n\n        case \"7\":\n          return 'Cancelled';\n\n        case \"8\":\n          return 'Closed';\n\n        default:\n          return 'None';\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        web3: this.props.web3\n      });\n      this.props.onTitle(this.state.formTitle + this.props.match.params.id);\n\n      try {\n        var c = new this.props.web3.eth.Contract(SimpleLoanContract.abi, this.props.match.params.id);\n        c.methods.info().call().then(function (info) {\n          return {\n            owner: info.p_owner,\n            borrower: info.p_borrower,\n            loanAmount: _this2.props.web3.utils.fromWei(info.p_loanAmount, 'ether'),\n            status: _this2.getStatusDescription(info.p_status),\n            lenderCount: parseInt(info.p_lenderCount),\n            dueDate: Date(parseInt(info.p_dueDate)).getDate()\n          };\n        }).then(function (l) {\n          _this2.setState({\n            loan: l\n          });\n\n          _this2.refreshLenders(); ///  if(this.state.loan.status === 'FundWithdrawn')\n          //this.handleDefault();\n\n        });\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }, {\n    key: \"refreshLenders\",\n    value: function () {\n      var _refreshLenders = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        var contract, count, ls, i, l;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.prev = 0;\n                contract = new this.props.web3.eth.Contract(SimpleLoanContract.abi, this.props.match.params.id);\n                _context6.next = 4;\n                return contract.methods.lenderCount().call();\n\n              case 4:\n                count = _context6.sent;\n                ls = [];\n                i = 0;\n\n              case 7:\n                if (!(i < count)) {\n                  _context6.next = 20;\n                  break;\n                }\n\n                _context6.next = 10;\n                return contract.methods.lenderAt(i).call();\n\n              case 10:\n                l = _context6.sent;\n                l.p_lendingAmount = this.props.web3.utils.fromWei(l.p_lendingAmount, 'ether');\n                l.p_repaidAmount = this.props.web3.utils.fromWei(l.p_repaidAmount, 'ether');\n                l.p_refundedAmount = this.props.web3.utils.fromWei(l.p_refundedAmount, 'ether');\n                l.p_interestRate = this.props.web3.utils.fromWei(l.p_interestRate, 'ether');\n                ls.push(l);\n                console.log(l);\n\n              case 17:\n                i++;\n                _context6.next = 7;\n                break;\n\n              case 20:\n                this.setState({\n                  lenders: ls\n                });\n                _context6.next = 26;\n                break;\n\n              case 23:\n                _context6.prev = 23;\n                _context6.t0 = _context6[\"catch\"](0);\n                console.log(_context6.t0);\n\n              case 26:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this, [[0, 23]]);\n      }));\n\n      function refreshLenders() {\n        return _refreshLenders.apply(this, arguments);\n      }\n\n      return refreshLenders;\n    }()\n  }, {\n    key: \"handleDefault\",\n    value: function () {\n      var _handleDefault = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7() {\n        var web3, borrowerAddr, loan, tx, l;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                web3 = this.state.web3;\n                _context7.next = 3;\n                return this.state.web3.eth.coinbase;\n\n              case 3:\n                borrowerAddr = _context7.sent;\n                _context7.prev = 4;\n                loan = new this.props.web3.eth.Contract(SimpleLoanContract.abi, this.props.match.params.id);\n                _context7.next = 8;\n                return loan.methods.toDefault().call({\n                  from: borrowerAddr\n                });\n\n              case 8:\n                _context7.next = 10;\n                return loan.methods.toDefault().send({\n                  from: borrowerAddr\n                });\n\n              case 10:\n                tx = _context7.sent;\n                l = _objectSpread({}, this.state.loan);\n                _context7.t0 = this;\n                _context7.next = 15;\n                return loan.methods.status().call();\n\n              case 15:\n                _context7.t1 = _context7.sent;\n                l.status = _context7.t0.getStatusDescription.call(_context7.t0, _context7.t1);\n                this.setState({\n                  loan: l,\n                  hasError: false\n                });\n                _context7.next = 24;\n                break;\n\n              case 20:\n                _context7.prev = 20;\n                _context7.t2 = _context7[\"catch\"](4);\n                console.log(_context7.t2);\n                this.setState({\n                  hasError: true,\n                  errorMessage: _context7.t2.message\n                });\n\n              case 24:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[4, 20]]);\n      }));\n\n      function handleDefault() {\n        return _handleDefault.apply(this, arguments);\n      }\n\n      return handleDefault;\n    }()\n  }, {\n    key: \"renderStatus\",\n    value: function renderStatus() {\n      var style = \"badge badge-light\";\n\n      if (this.state.loan.status === 'Funded') {\n        style = 'badge badge-primary';\n      } else if (this.state.loan.status === 'Refunded') {\n        style = \"badge badge-info\";\n      } else if (this.state.loan.status === 'Defaulted') {\n        style = \"badge badge-danger\";\n      } else if (this.state.loan.status === 'Cancelled') {\n        style = \"badge badge-dark\";\n      } else if (this.state.loan.status === 'Closed') {\n        style = \"badge badge-secondary\";\n      } else if (this.state.loan.status === 'FundWithdrawn') {\n        style = \"badge badge-warning\";\n      } else if (this.state.loan.status === 'Repaid') {\n        style = \"badge badge-success\";\n      }\n\n      return React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, \"Status: \", this.state.loan.status));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, this.state.hasError ? React.createElement(\"div\", {\n        className: \"alert alert-danger\",\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, this.state.errorMessage) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        htmlFor: \"borrowerAddr\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, \"Owner: \", this.state.loan.owner), React.createElement(\"h6\", {\n        htmlFor: \"borrowerAddr\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, \"Borrower: \", this.state.loan.borrower), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, \"Loan Amount: \", this.state.loan.loanAmount, \" ETH\"), this.renderStatus(), this.state.loan.status === 'FundWithdrawn' ? React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, \" Account will get defaulted after \", this.state.loan.dueDate)) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, \"Lender Information\"), React.createElement(LenderTable, {\n        lenders: this.state.lenders,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }), this.state.loan.status === 'Funding' ? React.createElement(\"form\", {\n        className: \"form-inline\",\n        onSubmit: this.handleFundIt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        readOnly: true,\n        className: \"form-control-plaintext\",\n        id: \"staticEmail2\",\n        value: \"Funding Amount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group mx-sm-3 mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"fundAmount\",\n        placeholder: \"Amount In Ether\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"interestRate\",\n        placeholder: \"Proposed Interest Rate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, \"Fund It !!!\")) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, (this.state.loan.status === 'Funding' || this.state.loan.status === 'Funded') && this.state.loan.lenderCount > 0 ? React.createElement(\"button\", {\n        onClick: this.handleRefund,\n        className: \"btn btn-success mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, \"Refund to Lenders\") : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }), this.state.loan.status === 'Funded' ? React.createElement(\"button\", {\n        onClick: this.handleBorrowerWithdraw,\n        className: \"btn btn-success mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }, \"Widthdraw To Borrower Account\") : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }), this.state.loan.status === 'FundWithdrawn' ? React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.handleRepay,\n        className: \"btn btn-success mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, \"Repay Account\"), React.createElement(\"button\", {\n        onClick: this.handleDefault,\n        className: \"btn btn-danger mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, \"Default Account\")) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }), this.state.loan.status === 'Repaid' ? React.createElement(\"button\", {\n        onClick: this.handleWithdrawToLenders,\n        className: \"btn btn-success mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, \"Repay Lender In Full\") : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return LoanDetails;\n}(Component);\n\nvar LenderTable =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(LenderTable, _Component2);\n\n  function LenderTable() {\n    _classCallCheck(this, LenderTable);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LenderTable).apply(this, arguments));\n  }\n\n  _createClass(LenderTable, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table table-bordered\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, \"#\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, \"Lender Address\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, \"Lending Amount\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }, \"Repaid Amount\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, \"Refunded Amount\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      }, \"Proposed Interest rate\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, this.props.lenders.map(function (l, index) {\n        return React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          scope: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 347\n          },\n          __self: this\n        }, ++index), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 348\n          },\n          __self: this\n        }, l.p_lender), React.createElement(\"td\", {\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 349\n          },\n          __self: this\n        }, l.p_lendingAmount, \" \", React.createElement(\"small\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 349\n          },\n          __self: this\n        }, \"ETH\")), React.createElement(\"td\", {\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 350\n          },\n          __self: this\n        }, l.p_repaidAmount, \" \", React.createElement(\"small\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 350\n          },\n          __self: this\n        }, \"ETH\")), React.createElement(\"td\", {\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351\n          },\n          __self: this\n        }, l.p_refundedAmount, \" \", React.createElement(\"small\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351\n          },\n          __self: this\n        }, \"ETH\")), React.createElement(\"td\", {\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352\n          },\n          __self: this\n        }, l.p_interestRate, \" \", React.createElement(\"small\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352\n          },\n          __self: this\n        }, \"ETH\")));\n      }))));\n    }\n  }]);\n\n  return LenderTable;\n}(Component);\n\nexport default LoanDetails;","map":{"version":3,"sources":["/home/devika/FinalYear/blockchain/loanBCT/Blockchain-Simple-Loan-IOU-Application/client/src/components/loandetails.jsx"],"names":["React","Component","Redirect","SimpleLoanContract","LoanDetails","state","formTitle","loan","owner","borrower","loanAmount","status","lenderCount","dueDate","lenders","handleFundIt","e","preventDefault","web3","utils","toWei","target","fundAmount","value","IRate","interestRate","eth","coinbase","lenderAddr","props","Contract","abi","match","params","id","methods","depositFund","call","from","send","tx","console","log","l","getStatusDescription","contract","count","ls","i","lenderAt","p_lendingAmount","fromWei","p_repaidAmount","p_refundedAmount","p_interestRate","push","setState","hasError","errorMessage","message","handleRefund","ownerAddr","refund","parseInt","handleRepay","borrowerAddr","ownedAmount","repay","handleBorrowerWithdraw","withdrawToBorrower","Date","handleWithdrawToLenders","withdrawToLenders","idx","onTitle","c","info","then","p_owner","p_borrower","p_loanAmount","p_status","p_lenderCount","p_dueDate","getDate","refreshLenders","error","toDefault","style","renderStatus","handleDefault","LenderTable","map","index","p_lender"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport SimpleLoanContract from \"../contracts/SimpleLoan.json\"; \n\nclass LoanDetails extends Component {\n    state = {formTitle: \"Contract - \", loan: { owner: null, borrower: null, loanAmount: null, status: null, lenderCount: 0,  dueDate: null}, lenders: []};\n\n    getStatusDescription(idx) {\n        switch(idx) {\n            case \"0\": return 'Requesting';\n            case \"1\": return 'Funding';\n            case \"2\": return 'Funded';\n            case \"3\": return 'FundWithdrawn';\n            case \"4\": return 'Repaid';\n            case \"5\": return 'Defaulted';\n            case \"6\": return 'Refunded';\n            case \"7\": return 'Cancelled';\n            case \"8\": return 'Closed';\n            default: return 'None';\n        }\n    }\n    \n    componentDidMount() {\n        this.setState({web3: this.props.web3});\n        this.props.onTitle(this.state.formTitle + this.props.match.params.id);\n        try {\n            const c = new this.props.web3.eth.Contract(SimpleLoanContract.abi, this.props.match.params.id);\n            c.methods.info().call().then(info => {\n                return {\n                        owner: info.p_owner,\n                        borrower: info.p_borrower,\n                        loanAmount: this.props.web3.utils.fromWei(info.p_loanAmount, 'ether'),\n                        status: this.getStatusDescription(info.p_status),\n                        lenderCount: parseInt(info.p_lenderCount),\n                        dueDate: Date(parseInt(info.p_dueDate)).getDate()\n                                         };\n            }).then(l => {\n                this.setState({loan: l});\n                this.refreshLenders();\n              ///  if(this.state.loan.status === 'FundWithdrawn')\n                //this.handleDefault();\n            });\n        } catch(error) {\n            console.error(error);\n        }\n    }\n\n    async refreshLenders() {\n        try {\n            const contract = new this.props.web3.eth.Contract(SimpleLoanContract.abi, this.props.match.params.id);\n            let count = await contract.methods.lenderCount().call();\n            let ls = [];\n            for(let i = 0; i < count; i++) {\n                let l = await contract.methods.lenderAt(i).call();\n                l.p_lendingAmount = this.props.web3.utils.fromWei(l.p_lendingAmount, 'ether');\n                l.p_repaidAmount = this.props.web3.utils.fromWei(l.p_repaidAmount, 'ether');\n                l.p_refundedAmount = this.props.web3.utils.fromWei(l.p_refundedAmount, 'ether');\n                l.p_interestRate = this.props.web3.utils.fromWei(l.p_interestRate, 'ether');\n                ls.push(l);\n                console.log(l);\n            }    \n            this.setState({lenders: ls});\n        } catch(err) {\n            console.log(err);\n        }\n    }\n  async handleDefault(){\n        const { web3 } = this.state;\n        let borrowerAddr = await this.state.web3.eth.coinbase;\n        try {\n            const loan = new this.props.web3.eth.Contract(SimpleLoanContract.abi, this.props.match.params.id);\n            await loan.methods.toDefault().call({from: borrowerAddr});\n\n            let tx = await loan.methods.toDefault().send({from: borrowerAddr});\n            let l = {...this.state.loan};\n            l.status = this.getStatusDescription(await loan.methods.status().call());\n            this.setState({loan: l, hasError: false});\n        } catch(err) {\n            console.log(err);\n            this.setState({hasError: true, errorMessage: err.message});\n        }\n    }\n\n    handleFundIt = async(e) => {\n        e.preventDefault();\n        const { web3 } = this.state;\n        let loanAmount = web3.utils.toWei(e.target.fundAmount.value, 'ether');\n        let IRate = web3.utils.toWei(e.target.interestRate.value, 'ether');\n        let lenderAddr = await this.state.web3.eth.coinbase;\n        \n        try {\n            const loan = new this.props.web3.eth.Contract(SimpleLoanContract.abi, this.props.match.params.id);\n            await loan.methods.depositFund(IRate).call({from: lenderAddr, value: loanAmount});\n            let tx = await loan.methods.depositFund(IRate).send({from: lenderAddr, value: loanAmount});\n            console.log(tx);\n            let l = {...this.state.loan};\n            l.lenderCount += 1;\n            l.status = this.getStatusDescription(await loan.methods.status().call());\n\n            const contract = new this.props.web3.eth.Contract(SimpleLoanContract.abi, this.props.match.params.id);\n            let count = await contract.methods.lenderCount().call();\n            let ls = [];\n            for(let i = 0; i < count; i++) {\n                let l = await contract.methods.lenderAt(i).call();\n                l.p_lendingAmount = this.props.web3.utils.fromWei(l.p_lendingAmount, 'ether');\n                l.p_repaidAmount = this.props.web3.utils.fromWei(l.p_repaidAmount, 'ether');\n                l.p_refundedAmount = this.props.web3.utils.fromWei(l.p_refundedAmount, 'ether');\n                l.p_interestRate = this.props.web3.utils.fromWei(l.p_interestRate, 'ether');\n                ls.push(l);\n                console.log(l);\n            }\n            this.setState({loan: l});\n        } catch(err) {\n            console.log(err);\n            this.setState({hasError: true, errorMessage: err.message});\n        }\n    }\n\n    handleRefund = async(e) => {\n        e.preventDefault();\n        const { web3 } = this.state;\n        let ownerAddr = await this.state.web3.eth.coinbase;\n        try {\n            const loan = new this.props.web3.eth.Contract(SimpleLoanContract.abi, this.props.match.params.id);\n            await loan.methods.refund().call({from: ownerAddr});\n            let tx = await loan.methods.refund().send({from: ownerAddr});\n            console.log(tx);\n            let l = {...this.state.loan};\n            l.lenderCount = parseInt(await loan.methods.lenderCount().call({from: ownerAddr}));\n            l.status = this.getStatusDescription(await loan.methods.status().call());\n            this.setState({loan: l});\n        } catch(err) {\n            console.log(err);\n            this.setState({hasError: true, errorMessage: err.message});\n        }\n    }\n\n    handleRepay = async(e) => {\n        e.preventDefault();\n        const { web3 } = this.state;\n        let borrowerAddr = await this.state.web3.eth.coinbase;\n        try {\n            const loan = new this.props.web3.eth.Contract(SimpleLoanContract.abi, this.props.match.params.id);\n            const ownedAmount = await loan.methods.ownedAmount().call();\n            await loan.methods.repay().call({from: borrowerAddr, value: ownedAmount});\n            let tx = await loan.methods.repay().send({from: borrowerAddr, value: ownedAmount});\n            console.log(tx);\n            let l = {...this.state.loan};\n            l.status = this.getStatusDescription(await loan.methods.status().call());\n            const contract = new this.props.web3.eth.Contract(SimpleLoanContract.abi, this.props.match.params.id);\n            let count = await contract.methods.lenderCount().call();\n            let ls = [];\n            for(let i = 0; i < count; i++) {\n                let l = await contract.methods.lenderAt(i).call();\n                l.p_lendingAmount = this.props.web3.utils.fromWei(l.p_lendingAmount, 'ether');\n                l.p_repaidAmount = this.props.web3.utils.fromWei(l.p_repaidAmount, 'ether');\n                l.p_refundedAmount = this.props.web3.utils.fromWei(l.p_refundedAmount, 'ether');\n                l.p_interestRate = this.props.web3.utils.fromWei(l.p_interestRate, 'ether');\n                ls.push(l);\n                console.log(l);\n            }\n            this.setState({loan: l, hasError: false});\n        } catch(err) {\n            console.log(err);\n            this.setState({hasError: true, errorMessage: err.message});\n        }\n    }\n\n   \n\n    handleBorrowerWithdraw = async() => {\n        const { web3 } = this.state;\n        let borrowerAddr = await this.state.web3.eth.coinbase;\n        try {\n            const loan = new web3.eth.Contract(SimpleLoanContract.abi, this.props.match.params.id);\n            await loan.methods.withdrawToBorrower().call({from: borrowerAddr});\n            let tx = await loan.methods.withdrawToBorrower().send({from: borrowerAddr});\n            console.log(tx);\n\n           // this.state.loan.dueDate = await loan.methods.dueDate().call();\n            console.log(\"account default after\"+Date(this.state.loan.dueDate));\n            let l = {...this.state.loan};\n            l.status = this.getStatusDescription(await loan.methods.status().call());\n\n            const contract = new this.props.web3.eth.Contract(SimpleLoanContract.abi, this.props.match.params.id);\n            let count = await contract.methods.lenderCount().call();\n            let ls = [];\n            for(let i = 0; i < count; i++) {\n                let l = await contract.methods.lenderAt(i).call();\n                l.p_lendingAmount = this.props.web3.utils.fromWei(l.p_lendingAmount, 'ether');\n                l.p_repaidAmount = this.props.web3.utils.fromWei(l.p_repaidAmount, 'ether');\n                l.p_refundedAmount = this.props.web3.utils.fromWei(l.p_refundedAmount, 'ether');\n                l.p_interestRate = this.props.web3.utils.fromWei(l.p_interestRate, 'ether');\n                ls.push(l);\n                console.log(l);\n            }\n            this.setState({loan: l, hasError: false});\n        } catch(err) {\n            console.log(err);\n            this.setState({hasError: true, errorMessage: err.message});\n        }\n    }\n\n    handleWithdrawToLenders = async() => {\n        const { web3 } = this.state;\n        let borrowerAddr = await this.state.web3.eth.coinbase;\n        try {\n            const loan = new web3.eth.Contract(SimpleLoanContract.abi, this.props.match.params.id);\n            await loan.methods.withdrawToLenders().call({from: borrowerAddr});\n            let tx = await loan.methods.withdrawToLenders().send({from: borrowerAddr});\n            console.log(tx);\n            let l = {...this.state.loan};\n            l.status = this.getStatusDescription(await loan.methods.status().call());\n            const contract = new this.props.web3.eth.Contract(SimpleLoanContract.abi, this.props.match.params.id);\n            let count = await contract.methods.lenderCount().call();\n            let ls = [];\n            for(let i = 0; i < count; i++) {\n                let l = await contract.methods.lenderAt(i).call();\n                l.p_lendingAmount = this.props.web3.utils.fromWei(l.p_lendingAmount, 'ether');\n                l.p_repaidAmount = this.props.web3.utils.fromWei(l.p_repaidAmount, 'ether');\n                l.p_refundedAmount = this.props.web3.utils.fromWei(l.p_refundedAmount, 'ether');\n                l.p_interestRate = this.props.web3.utils.fromWei(l.p_interestRate, 'ether');\n                ls.push(l);\n                console.log(l);\n            }\n            this.setState({loan: l, hasError: false});\n        } catch(err) {\n            console.log(err);\n            this.setState({hasError: true, errorMessage: err.message});\n        }\n    }\n\n    renderStatus() {\n        let style = \"badge badge-light\";\n        if (this.state.loan.status === 'Funded') {\n            style = 'badge badge-primary';\n        } else if (this.state.loan.status === 'Refunded') {\n            style = \"badge badge-info\";\n        } else if (this.state.loan.status === 'Defaulted') {\n            style = \"badge badge-danger\";\n        } else if (this.state.loan.status === 'Cancelled') {\n            style = \"badge badge-dark\";\n        } else if (this.state.loan.status === 'Closed') {\n            style = \"badge badge-secondary\";\n        } else if (this.state.loan.status === 'FundWithdrawn') {\n            style = \"badge badge-warning\";\n        } else if (this.state.loan.status === 'Repaid') {\n            style = \"badge badge-success\";\n        } \n        return (<h5><span className={style}>Status: {this.state.loan.status}</span></h5>\n            );\n    }\n\n    render() {\n        return (\n            <div>\n                { this.state.hasError ? (\n                    <div className=\"alert alert-danger\" role=\"alert\">\n                        {this.state.errorMessage}\n                    </div>\n                  ) : (<div></div>)\n                }\n            <div className=\"row\">\n                <div className=\"col\">\n                <h6 htmlFor=\"borrowerAddr\">Owner: {this.state.loan.owner}</h6>\n                <h6 htmlFor=\"borrowerAddr\">Borrower: {this.state.loan.borrower}</h6>\n                <h5>Loan Amount: {this.state.loan.loanAmount} ETH</h5>\n                {this.renderStatus()}\n                { this.state.loan.status === 'FundWithdrawn' ? (    \n                        <React.Fragment>\n                        <h5> Account will get defaulted after {this.state.loan.dueDate}</h5>\n                        </React.Fragment>\n                    )  : (<div></div>)\n                }\n                </div>\n            </div>\n            <div className=\"row\">\n                <div className=\"col\">\n                <hr/>\n                <h4>Lender Information</h4>\n                {/* Lender count: {this.state.loan.lenderCount} */}\n\n                <LenderTable lenders={this.state.lenders}/>\n\n                { this.state.loan.status === 'Funding' ? (\n                    <form className=\"form-inline\" onSubmit={this.handleFundIt}>\n                        <div className=\"form-group mb-2\">\n                            <input type=\"text\" readOnly className=\"form-control-plaintext\" id=\"staticEmail2\" value=\"Funding Amount\"/>\n                        </div>\n                        <div className=\"form-group mx-sm-3 mb-2\">\n                            <input type=\"text\" className=\"form-control\" id=\"fundAmount\" placeholder=\"Amount In Ether\"/>\n                            <input type=\"text\" className=\"form-control\" id=\"interestRate\" placeholder=\"Proposed Interest Rate\"/>\n                        </div>\n                        <button type=\"submit\" className=\"btn btn-primary mr-2\">Fund It !!!</button>\n                    </form>\n                  ) : (<div></div>)\n                }\n                <hr/>\n                <div>\n                { (this.state.loan.status === 'Funding' || this.state.loan.status === 'Funded') && this.state.loan.lenderCount > 0 ? (    \n                        <button onClick={this.handleRefund} className=\"btn btn-success mr-2\">Refund to Lenders</button>\n                    )  : (<div></div>)\n                }\n                { this.state.loan.status === 'Funded' ? (    \n                        <button onClick={this.handleBorrowerWithdraw} className=\"btn btn-success mr-2\">Widthdraw To Borrower Account</button>\n                    )  : (<div></div>)\n                }\n                { this.state.loan.status === 'FundWithdrawn' ? (    \n                        <React.Fragment>\n                        <button onClick={this.handleRepay} className=\"btn btn-success mr-2\">Repay Account</button>\n                        <button onClick={this.handleDefault} className=\"btn btn-danger mr-2\">Default Account</button>\n                        </React.Fragment>\n                    )  : (<div></div>)\n                }\n                 { this.state.loan.status === 'Repaid' ? (    \n                        <button onClick={this.handleWithdrawToLenders} className=\"btn btn-success mr-2\">Repay Lender In Full</button>\n                    )  : (<div></div>)\n                }\n                </div>\n                </div>\n            </div>\n            </div>\n        );\n    }\n}\n\nclass LenderTable extends Component {\n    render() {\n        return (\n            <React.Fragment>\n                <table className=\"table table-bordered\">\n                    <thead>\n                        <tr>\n                        <th scope=\"col\">#</th>\n                        <th scope=\"col\">Lender Address</th>\n                        <th scope=\"col\">Lending Amount</th>\n                        <th scope=\"col\">Repaid Amount</th>\n                        <th scope=\"col\">Refunded Amount</th>\n                        <th scope=\"col\">Proposed Interest rate</th>\n\n                        </tr>\n                    </thead>\n                    <tbody>\n                {\n                    this.props.lenders.map((l,index) => (\n                            <tr>\n                            <th scope=\"row\">{++index}</th>\n                            <td>{l.p_lender}</td>\n                            <td className=\"text-center\">{l.p_lendingAmount} <small>ETH</small></td>\n                            <td className=\"text-center\">{l.p_repaidAmount} <small>ETH</small></td>\n                            <td className=\"text-center\">{l.p_refundedAmount} <small>ETH</small></td>\n                            <td className=\"text-center\">{l.p_interestRate} <small>ETH</small></td>\n\n                            </tr>\n                    ))\n                }\n                    </tbody>\n                </table>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default LoanDetails;"]},"metadata":{},"sourceType":"module"}